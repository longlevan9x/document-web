<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>Biểu thức chính quy regular expression</title>
	<link rel="stylesheet" href="">
	<script  type="text/javascript" charset="utf-8" >
		
		var vidu1= /\^/;
		if (vidu1.test("đây là dấu ^")) {
			console.log('Đúng');
		}
		else{
			console.log('Sai');
		}
		// cờ \ là để đưa 1 ký tự thường thành đặc biệt và ngược lại
		// cờ ^ là khớp với các ký tự đứng đầu một chuỗi
		// cờ $ là khớp với các kí tự đúng cuối chuỗi 
		// cờ * là cho phép ký tự trước lặp 0 lần hoặc nhiều lần  cách viết khác {0,} 
		// cờ + là cho phép kí tự trước lặp lại 1 hoặc nhiều lần  cách viết khác {1,}
		// cờ ? cho phép ký tự trước nó lặp lại 0 hoặc 1 lần duy nhất , cách viết khác {0,1} chưa có ví dụ
		// cờ . khớp với bất kỳ kí tự đơn nào ngoại trừ khoảng trắng
		// chưa có ví dụ
		// cờ () là so khớp và nhớ kết quả vd: (x) --> dấu ngoặc tròn là dấu ngoặc có nhớ
		// cờ (?:) so khớp và không nhớ kết quả này vd; (?:x)
		// cờ x(?=y) chỉ khớp x nếu x theo sau là y
		// cờ x(?!y) chỉ khớp với x nếu không theo sau bởi y
		// cờ x|y khớp x hoặc y
		// cờ {n} khớp với ký tự đứng trước n lần vd: /b{3}/  sẽ khớp với 3 ký tự b liên tiếp nhau
		// cờ {n,m} ký tự đứng trước phải xuất hiện n->m lần. nếu {n,} thì m là vô cùng
		// LỚP KÍ TỰ
		// 
		var pattent=/^Long/;  //khai báo biểu thức chính quy
		if (pattent.exec("I'm Lê Văn Long")) {
			document.write("có chữ Long");
		}
		else{
			document.write("Không có chữ Long");
		}
		document.write("<br>");

		var vidu2= /a+/;// chỉ cần có chữ a là khớp ít nhất là 1 lần
		if (vidu2.test("ha ha")) {
			console.log("Đúng");
		}
		else{
			console.log("sai");
		}

		var vidu3= /a*h/;// chỉ cần có chữ a là khớp (không bắt buộc số lượng)
		if (vidu3.test("hhhhhh")) {
			console.log("Đúng");
		}
		else{
			console.log("sai");
		}

		var vidu4= /.n/;
		if (vidu4.test("na")) {
			console.log("Đúng");
		}
		else{
			console.log("sai");
		}
		document.write("<br>");
		var pattent=/Long$/;  
		if (pattent.exec("I'm Lê Văn Long")) {
			document.write("có chữ Long");
		}
		else{
			document.write("Không có chữ Long");
		}
		document.write("<br>");

		var reNew= new RegExp("ab+c");   //khai báo biểu thức chính quy

		if (/n+/.test("Hello")) {
			document.write("trong chuỗi có chữ n");
		}
		else{
			document.write("không có chữ n");
		}
		document.write("<br>");


		// function isEmail(email) {
		// 	var isValid=false;
			
		//  // var regex = /^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/;
		// 	if (regExp.test(email)) {
		// 		isValid=true;
		// 	}
		// 	return isValid;
		// }
		function checkEmail() {
			var email=document.getElementById('email');
			var regExp= /^([a-zA-Z0-9_\.])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/;
						// /^([a-zA-Z0-9_\.])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/; 
			if (!regExp.test(email.value)) {
				document.getElementById("span").innerHTML="Email không hợp lệ";
				email.focus();
				return false;
			}
			else{
				document.getElementById("span").innerHTML="Email hợp lệ";
			}
		}
	</script>
</head>
<body>
	<form action="" method="post" accept-charset="utf-8">
		<label for="">Email</label>
		<input type="email" name="txt_mail" value="" onblur="checkEmail();" id="email" placeholder="nhập vào email"/>
		<span id="span"></span>
		<br/>
		<button type="submit">Xác nhận</button>
	</form>
</body>
</html>